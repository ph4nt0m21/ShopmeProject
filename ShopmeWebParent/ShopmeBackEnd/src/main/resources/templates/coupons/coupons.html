<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: page_head('Home - Gamezone Admin', 'none')" />
<body>
<div class="container-scroller">
	<nav th:replace="nav::topNav"></nav>
	<div class="container-fluid page-body-wrapper">
		<nav th:replace="nav::sideNav"></nav>
		<div class="main-panel">
			<div class="p-3">
				<h3 class="page-header text-center">Manage Coupons</h3>

				<a th:href="@{/coupons/create}" >
					<button type="button" class="btn btn-secondary btn-lg btn-icon-text">
						Add New
						<i class="typcn typcn-document-add btn-icon-append" ></i>
					</button>
				</a>

				<div th:replace="fragments::message"></div>
				<div class="full-details">
					<table class="table table-hover table-responsive-xl">
						<thead class="bg-primary">
						<tr>
							<th class="hideable-column">Coupon ID</th>
							<th>code</th>
							<th>Discount in %</th>
							<th>expiration</th>
							<th>enabled</th>
							<th>Actions</th>
						</tr>
						</thead>
						<tbody>
						<tr th:each="coupon: ${coupons}">
							<td class="hideable-column">[[${coupon.id}]]</td>
							<td>
								[[${coupon.code}]]
							</td>
							<td th:text="${coupon.discount}">
							</td>
							<td th:text="${coupon.expirationDate}"></td>
							<td>
								<a th:if="${coupon.enabled == true}"
								   th:href="@{'/coupons/'+${coupon.id} + '/enabled/false'}"
								   title="Disable this coupon">
								<button type="button" class="btn btn-success btn-sm btn-icon-text">
									Disable
									<i class="typcn typcn-disable btn-icon-append"></i>
								</button>
								</a>

								<a th:if="${coupon.enabled == false}"
								   th:href="@{'/coupons/'+${coupon.id} + '/enabled/true'}"
								   title="Enable this coupon">
									<button type="button" class="btn btn-danger btn-sm btn-icon-text">
										Enable
										<i class="typcn typcn-enable btn-icon-append"></i>
									</button>
								</a>
							</td>
							<td>
								<a th:href="@{'/coupons/delete/' + ${coupon.id}}"
								   title="Delete this coupon">
									<button type="button" class="btn btn-danger btn-sm btn-icon-text">
										Delete
										<i class="typcn typcn-enable btn-icon-append"></i>
									</button>
								</a>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div th:replace="fragments :: footer"></div>
</div>
</body>
<script th:replace="fragments::scripts"></script>
</html>